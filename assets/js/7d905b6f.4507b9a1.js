"use strict";(globalThis.webpackChunkionlandscape_site=globalThis.webpackChunkionlandscape_site||[]).push([[840],{8662(e,l,s){s.r(l),s.d(l,{default:()=>t});var a=s(6540),r=s(223),i=s(8774),n=s(6347),c=s(4848);const t=function(){const e=(0,n.zy)(),l=(0,n.W6)(),[s,t]=(0,a.useState)([]),o=new URLSearchParams(e.search),d=o.getAll("label"),h=o.getAll("ion"),{allLabels:p,allIons:m}=(0,a.useMemo)(()=>{const e=new Set,l=new Set;return s.forEach(s=>{(s.labels||[]).forEach(l=>e.add(l)),(s.ion_species||[]).forEach(e=>l.add(e))}),{allLabels:Array.from(e).sort(),allIons:Array.from(l).sort()}},[s]);(0,a.useEffect)(()=>{fetch("/ionlandscape/data/people.json").then(e=>e.json()).then(e=>{t(e)}).catch(()=>{fetch("/data/people.json").then(e=>e.json()).then(t)})},[]);const u=(0,a.useMemo)(()=>{if(!s.length)return[];let e=s;return d.length>0&&(e=e.filter(e=>d.every(l=>e.labels&&e.labels.includes(l)))),h.length>0&&(e=e.filter(e=>h.every(l=>e.ion_species&&e.ion_species.includes(l)))),e},[s,d,h]),g=(e,s)=>{const a=new URLSearchParams;e.forEach(e=>a.append("label",e)),s.forEach(e=>a.append("ion",e)),l.push({search:a.toString()})},b=(e,l)=>{"label"!==e||d.includes(l)?"ion"!==e||h.includes(l)||g(d,[...h,l]):g([...d,l],h)},j=(e,l)=>{"label"===e?g(d.filter(e=>e!==l),h):"ion"===e&&g(d,h.filter(e=>e!==l))},f=d.length>0||h.length>0,x=p.filter(e=>!d.includes(e)),v=m.filter(e=>!h.includes(e));return(0,c.jsx)(r.A,{title:"Groups",children:(0,c.jsxs)("div",{className:"groups-page container margin-vert--lg",children:[(0,c.jsx)("h1",{children:"Research Groups"}),(0,c.jsxs)("p",{className:"margin-bottom--md",style:{color:"#666"},children:["Showing ",u.length," of ",s.length," researchers"]}),(0,c.jsxs)("div",{className:"filter-bar",children:[(0,c.jsxs)("div",{className:"filter-bar-row",children:[(0,c.jsxs)("select",{className:"filter-select",value:"",onChange:e=>{e.target.value&&b("label",e.target.value)},children:[(0,c.jsx)("option",{value:"",children:"+ Add Label Filter"}),x.map(e=>(0,c.jsx)("option",{value:e,children:e},e))]}),(0,c.jsxs)("select",{className:"filter-select",value:"",onChange:e=>{e.target.value&&b("ion",e.target.value)},children:[(0,c.jsx)("option",{value:"",children:"+ Add Ion Filter"}),v.map(e=>(0,c.jsx)("option",{value:e,children:e},e))]}),f&&(0,c.jsx)("button",{className:"clear-all-btn",onClick:()=>{l.push({search:""})},children:"Clear All"})]}),f&&(0,c.jsxs)("div",{className:"filter-chips",children:[d.map(e=>(0,c.jsxs)("span",{className:"filter-chip filter-chip--label",children:[e,(0,c.jsx)("button",{className:"filter-chip-remove",onClick:()=>j("label",e),"aria-label":`Remove ${e} filter`,children:"\xd7"})]},`label-${e}`)),h.map(e=>(0,c.jsxs)("span",{className:"filter-chip filter-chip--ion",children:[e,(0,c.jsx)("button",{className:"filter-chip-remove",onClick:()=>j("ion",e),"aria-label":`Remove ${e} filter`,children:"\xd7"})]},`ion-${e}`))]})]}),(0,c.jsxs)("div",{className:"row",children:[u.map(e=>(0,c.jsx)("div",{className:"col col--4 margin-bottom--lg",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card__header",children:(0,c.jsx)("h3",{children:e.name})}),(0,c.jsxs)("div",{className:"card__body",children:[(0,c.jsx)("p",{children:e.current_position?.institution}),(0,c.jsx)("div",{style:{marginBottom:8},children:e.labels?.map(e=>(0,c.jsx)("span",{className:"badge badge--primary margin-right--xs",style:{cursor:"pointer"},onClick:()=>b("label",e),children:e},e))}),(0,c.jsx)("div",{children:e.ion_species?.map(e=>(0,c.jsx)("span",{className:"badge badge--secondary margin-right--xs",style:{cursor:"pointer"},onClick:()=>b("ion",e),children:e},e))})]}),(0,c.jsx)("div",{className:"card__footer",children:(0,c.jsx)(i.A,{to:`/?person=${e.id}`,className:"button button--primary button--block",children:"View on Map"})})]})},e.id)),0===u.length&&(0,c.jsx)("div",{className:"col col--12",children:(0,c.jsxs)("div",{className:"alert alert--warning",children:[(0,c.jsx)("p",{children:"No groups found matching all selected filters."}),(0,c.jsx)("p",{children:"Try removing some filters to see more results."})]})})]})]})})}}}]);