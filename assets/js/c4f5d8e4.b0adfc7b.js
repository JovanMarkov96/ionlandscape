"use strict";(globalThis.webpackChunkionlandscape_site=globalThis.webpackChunkionlandscape_site||[]).push([[634],{192(e,n,o){o.r(n),o.d(n,{default:()=>l});var t=o(6540),s=o(8478),i=o(374),a=o(4848);function r(){const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),d=o(8738).A,p=o(8287).A;(0,t.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("person");if(e){n(e),c(!0);const o=window.location.pathname;window.history.replaceState({},"",o)}},[]),(0,t.useEffect)(()=>{e&&c(!0)},[e]);const h=e=>{n(e),c(!0)};return(0,a.jsx)(i.A,{title:"Map",description:"Interactive map of ion trap and neutral atom quantum computing groups",noFooter:!1,children:(0,a.jsxs)("div",{className:"ion-landscape-container",children:[(0,a.jsx)("div",{className:"ion-landscape-map",children:(0,a.jsx)(d,{onPersonSelect:h,onLocationSelect:e=>r(e)})}),(0,a.jsxs)("div",{className:"ion-landscape-panel "+(l?"panel-open":""),children:[(0,a.jsx)("button",{className:"back-to-map-btn",onClick:()=>{c(!1)},children:"\u2190 Back to Map"}),(0,a.jsx)(p,{personId:e,location:s,onPersonSelect:h,onClose:()=>{n(null),r(null)}})]}),(0,a.jsx)("button",{className:"mobile-panel-toggle",onClick:()=>c(!l),"aria-label":l?"Close panel":"Open panel",children:l?"\u2715":"\u2630"})]})})}function l(){return(0,a.jsx)(s.A,{fallback:(0,a.jsx)("div",{style:{padding:20},children:"Loading map..."}),children:()=>(0,a.jsx)(r,{})})}},8287(e,n,o){o.d(n,{A:()=>r});var t=o(6540),s=o(7331),i=o(8774),a=o(4848);const r=function({personId:e,location:n,onPersonSelect:o,onClose:r}){const[l,c]=(0,t.useState)([]),[d,p]=(0,t.useState)(null),[h,m]=(0,t.useState)("");(0,t.useEffect)(()=>{fetch("/ionlandscape/data/people.json").then(e=>e.json()).then(c).catch(e=>{fetch("/data/people.json").then(e=>e.json()).then(c).catch(e=>console.warn("Could not load people.json",e))})},[]),(0,t.useEffect)(()=>{if(!e)return p(null),void m("");const n=l.find(n=>n.md_filename===e)||l.find(n=>n.id===e);n?(p(n),m(n.short_bio||"No biography available.")):p(null)},[e,l]);const u=e=>{if(!e)return null;const n=l.find(n=>n.name&&n.name.toLowerCase()===e.toLowerCase()||n.sort_name&&n.sort_name.toLowerCase()===e.toLowerCase()||n.id===e);return n&&o?(0,a.jsx)("span",{style:{color:"#007bff",cursor:"pointer",textDecoration:"underline"},onClick:()=>o(n.md_filename),children:e}):(0,a.jsx)("span",{children:e})},x=e=>{e.preventDefault(),e.stopPropagation(),r&&r()};return n&&!d?(0,a.jsxs)("div",{style:{padding:16,position:"relative"},children:[r&&(0,a.jsx)("button",{className:"close-panel-btn",onClick:x,"aria-label":"Close location view",children:"\u2715"}),(0,a.jsxs)("h3",{children:[n.city,", ",n.country]}),(0,a.jsx)("p",{children:"People at this location (click a marker):"})]}):d?(0,a.jsxs)("div",{style:{padding:16,position:"relative"},children:[r&&(0,a.jsx)("button",{className:"close-panel-btn",onClick:x,"aria-label":"Close profile",children:"\u2715"}),(0,a.jsx)("div",{className:"person-panel-header",children:(0,a.jsx)("h2",{children:d.name})}),(0,a.jsx)("p",{children:(0,a.jsxs)("em",{children:[d.current_position&&d.current_position.title," \u2014 ",d.current_position&&d.current_position.institution]})}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Keywords:"})," ",(d.keywords||[]).join(", ")]}),(0,a.jsxs)("div",{style:{marginBottom:"15px"},children:[d.platforms&&d.platforms.map((e,n)=>{const o=(e=>{const n=e.toLowerCase();return n.includes("neutral")?"Neutral Atoms":n.includes("ion")?"Trapped Ions":e})(e);return(0,a.jsx)("a",{href:`/ionlandscape/groups?category=${encodeURIComponent(o)}`,className:"badge "+("Trapped Ions"===o?"badge-trapped-ions":"Neutral Atoms"===o?"badge-neutral-atoms":"badge--info"),style:{marginRight:"5px",textDecoration:"none",color:"#fff"},children:e},n)}),d.labels&&d.labels.map((e,n)=>(0,a.jsx)(i.A,{to:`/groups?label=${encodeURIComponent(e)}`,className:"badge badge--primary margin-right--xs",style:{textDecoration:"none",color:"white"},children:e},n)),d.ion_species?.map(e=>(0,a.jsx)(i.A,{to:`/groups?ion=${encodeURIComponent(e)}`,className:"badge badge--secondary margin-right--xs",style:{textDecoration:"none",color:"black"},children:e},e))]}),d.affiliations&&d.affiliations.length>0&&(0,a.jsxs)("div",{className:"affiliation-box",children:[(0,a.jsx)("h4",{className:"affiliation-header",children:"Affiliations"}),d.affiliations.map((e,n)=>(0,a.jsxs)("div",{className:"affiliation-item",children:[(0,a.jsx)("strong",{children:e.name})," \u2014 ",e.role]},n))]}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"person-bio",children:(0,a.jsx)(s.oz,{children:h})}),(d.education?.length>0||d.postdocs?.length>0)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("hr",{}),(0,a.jsx)("h3",{children:"Academic Trajectory"}),d.education&&d.education.length>0&&(0,a.jsxs)("div",{style:{marginBottom:16},children:[(0,a.jsx)("h4",{className:"section-header",children:"Education"}),d.education.map((e,n)=>(0,a.jsxs)("div",{className:"trajectory-item",children:[(0,a.jsxs)("div",{className:"trajectory-title",children:[e.degree," \u2014 ",e.institution]}),(0,a.jsxs)("div",{className:"trajectory-details",children:[e.year&&(0,a.jsxs)("span",{children:["(",e.year,") "]}),e.advisor&&(0,a.jsxs)(a.Fragment,{children:["Advisor: ",u(e.advisor)]})]})]},n))]}),d.postdocs&&d.postdocs.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"section-header",children:"Postdoctoral Training"}),d.postdocs.map((e,n)=>(0,a.jsxs)("div",{className:"trajectory-item",children:[(0,a.jsx)("div",{className:"trajectory-title",children:e.institution}),(0,a.jsx)("div",{className:"trajectory-details",children:e.advisor&&(0,a.jsxs)(a.Fragment,{children:["Advisor: ",u(e.advisor)]})})]},n))]})]}),(0,a.jsx)("hr",{}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"Links"})}),(0,a.jsxs)("ul",{style:{paddingLeft:20},children:[d.links&&d.links.homepage?(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:d.links.homepage,target:"_blank",rel:"noopener noreferrer",children:"Homepage"})}):null,d.links&&d.links.google_scholar?(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:d.links.google_scholar,target:"_blank",rel:"noopener noreferrer",children:"Google Scholar"})}):null,d.links&&d.links.orcid?(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:d.links.orcid,target:"_blank",rel:"noopener noreferrer",children:"ORCID"})}):null]})]}):(0,a.jsxs)("div",{style:{padding:16},children:[(0,a.jsx)("h3",{children:"Ion Landscape"}),(0,a.jsx)("p",{children:"Click a marker on the map to view a person profile."})]})}},8738(e,n,o){o.d(n,{A:()=>m});var t=o(6540),s=o(5293),i=o(6162),a=o(4489),r=o(3489),l=o(9368),c=o(3481),d=o.n(c),p=o(4848);const h=[20,0];const m=function({onPersonSelect:e,onLocationSelect:n}){const[o,c]=t.useState([]);(0,t.useEffect)(()=>{fetch("/ionlandscape/data/people.geojson").then(e=>e.json()).then(e=>{e&&e.features&&c(e.features)}).catch(e=>{fetch("/data/people.geojson").then(e=>e.json()).then(e=>c(e.features)).catch(e=>console.warn("Could not load people.geojson",e))})},[]),(0,t.useEffect)(()=>{delete d().Icon.Default.prototype._getIconUrl,d().Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},[]);const m=(0,t.useMemo)(()=>function(e){const n=new Map;for(const o of e){const e=o.geometry;if(!e||!e.coordinates)continue;const[t,s]=e.coordinates,i=`${s.toFixed(5)},${t.toFixed(5)}`;n.has(i)||n.set(i,[]),n.get(i).push(o)}for(const[o,t]of n)t.sort((e,n)=>{const o=e.properties?.id||"",t=n.properties?.id||"";return o.localeCompare(t)});return n}(o),[o]),{colorMode:u}=(0,s.G)(),x="dark"===u;return(0,p.jsxs)(i.W,{center:h,zoom:2,style:{height:"100%",width:"100%"},children:[(0,p.jsx)(l.e,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors \xa9 <a href="https://carto.com/attributions">CARTO</a>',url:x?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),Array.from(m.entries()).map(([n,o])=>{const t=o[0],[s,i]=t.geometry.coordinates,l=t.properties||{},c=l.city&&l.country?`${l.city}, ${l.country}`:null;return(0,p.jsx)(a.p,{position:[i,s],children:(0,p.jsx)(r.z,{children:(0,p.jsxs)("div",{style:{minWidth:"200px"},children:[c&&(0,p.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px",borderBottom:"1px solid #ccc",paddingBottom:"4px"},children:c}),(0,p.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:o.map((n,t)=>{const s=n.properties||{};return(0,p.jsxs)("div",{style:{padding:"6px 0",borderBottom:t<o.length-1?"1px solid #eee":"none"},children:[(0,p.jsx)("div",{style:{fontWeight:"bold"},children:s.name}),(0,p.jsx)("div",{style:{fontSize:"0.85em",color:"#666",marginBottom:"4px"},children:s.current_position||s.short_bio?.substring(0,60)+"..."||0}),(0,p.jsx)("button",{onClick:()=>e(s.md_filename),style:{fontSize:"0.8em",padding:"2px 8px",cursor:"pointer"},children:"Open profile"})]},s.md_filename||t)})})]})})},n)})]})}}}]);