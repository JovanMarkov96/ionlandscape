"use strict";(globalThis.webpackChunkionlandscape_site=globalThis.webpackChunkionlandscape_site||[]).push([[634],{192(e,n,s){s.r(n),s.d(n,{default:()=>r});var t=s(6540),o=s(8478),l=s(4848);function i(){const[e,n]=(0,t.useState)(null),[o,i]=(0,t.useState)(null),r=s(8738).A,c=s(8287).A;return(0,l.jsxs)("div",{style:{display:"flex",height:"100vh"},children:[(0,l.jsx)("div",{style:{flex:1},children:(0,l.jsx)(r,{onPersonSelect:e=>n(e),onLocationSelect:e=>i(e)})}),(0,l.jsx)("div",{style:{width:420,borderLeft:"1px solid #ddd",overflow:"auto"},children:(0,l.jsx)(c,{personId:e,location:o})})]})}function r(){return(0,l.jsx)(o.A,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:()=>(0,l.jsx)(i,{})})}},8287(e,n,s){s.d(n,{A:()=>i});var t=s(6540),o=s(7331),l=s(4848);const i=function({personId:e,location:n}){const[s,i]=(0,t.useState)([]),[r,c]=(0,t.useState)(null),[a,d]=(0,t.useState)("");return(0,t.useEffect)(()=>{fetch("/ionlandscape/data/people.json").then(e=>e.json()).then(i).catch(e=>{fetch("/data/people.json").then(e=>e.json()).then(i).catch(e=>console.warn("Could not load people.json",e))})},[]),(0,t.useEffect)(()=>{if(!e)return c(null),void d("");const n=s.find(n=>n.md_filename===e)||s.find(n=>n.id===e);n?(c(n),d(n.short_bio||"No biography available.")):c(null)},[e,s]),n&&!r?(0,l.jsxs)("div",{style:{padding:16},children:[(0,l.jsxs)("h3",{children:[n.city,", ",n.country]}),(0,l.jsx)("p",{children:"People at this location (click a marker):"})]}):r?(0,l.jsxs)("div",{style:{padding:16},children:[(0,l.jsx)("h2",{children:r.name}),(0,l.jsx)("p",{children:(0,l.jsxs)("em",{children:[r.current_position&&r.current_position.title," \u2014 ",r.current_position&&r.current_position.institution]})}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Platforms:"})," ",(r.platforms||[]).join(", ")]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Keywords:"})," ",(r.keywords||[]).join(", ")]}),(0,l.jsx)("hr",{}),(0,l.jsx)(o.oz,{children:a}),(0,l.jsx)("hr",{}),(0,l.jsx)("p",{children:(0,l.jsx)("strong",{children:"Links"})}),(0,l.jsxs)("ul",{children:[r.links&&r.links.google_scholar?(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:r.links.google_scholar,children:"Google Scholar"})}):null,r.links&&r.links.orcid?(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:r.links.orcid,children:"ORCID"})}):null,r.links&&r.links.homepage?(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:r.links.homepage,children:"Homepage"})}):null]})]}):(0,l.jsxs)("div",{style:{padding:16},children:[(0,l.jsx)("h3",{children:"Ion Landscape"}),(0,l.jsx)("p",{children:"Click a marker on the map to view a person profile."})]})}},8738(e,n,s){s.d(n,{A:()=>p});var t=s(6540),o=s(6162),l=s(4489),i=s(3489),r=s(9368),c=s(3481),a=s.n(c),d=s(4848);const h=[20,0];const p=function({onPersonSelect:e,onLocationSelect:n}){const[s,c]=t.useState([]);return(0,t.useEffect)(()=>{fetch("/ionlandscape/data/people.geojson").then(e=>e.json()).then(e=>{e&&e.features&&c(e.features)}).catch(e=>{fetch("/data/people.geojson").then(e=>e.json()).then(e=>c(e.features)).catch(e=>console.warn("Could not load people.geojson",e))})},[]),(0,t.useEffect)(()=>{delete a().Icon.Default.prototype._getIconUrl,a().Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},[]),(0,d.jsxs)(o.W,{center:h,zoom:2,style:{height:"100%",width:"100%"},children:[(0,d.jsx)(r.e,{attribution:"\xa9 OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.map((n,s)=>{const t=n.geometry,o=n.properties||{};if(!t||!t.coordinates)return null;const[r,c]=t.coordinates;return(0,d.jsx)(l.p,{position:[c,r],children:(0,d.jsx)(i.z,{children:(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:o.name}),(0,d.jsx)("p",{children:o.short_bio}),(0,d.jsx)("button",{onClick:()=>e(o.md_filename),children:"Open profile"})]})})},s)})]})}}}]);