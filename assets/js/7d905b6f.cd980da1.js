"use strict";(globalThis.webpackChunkionlandscape_site=globalThis.webpackChunkionlandscape_site||[]).push([[840],{8662(e,t,s){s.r(t),s.d(t,{default:()=>o});var l=s(6540),n=s(223),a=s(8774),r=s(6347),i=s(4848);const o=function(){const e=(0,r.zy)(),t=(0,r.W6)(),[s,o]=(0,l.useState)([]),c=new URLSearchParams(e.search),d=c.get("q")||"",u=c.getAll("label"),h=c.getAll("ion"),p=c.getAll("inst"),m=c.getAll("country"),[f,x]=(0,l.useState)(d),[g,j]=(0,l.useState)("All");(0,l.useEffect)(()=>{const e=document.getElementById("search-input");document.activeElement===e||d===f||x(d)},[d]),(0,l.useEffect)(()=>{const e=setTimeout(()=>{f!==d&&w({q:f,label:u,ion:h,inst:p,country:m},!0)},300);return()=>clearTimeout(e)},[f,u,h,p,m]);const{allLabels:v,allIons:b,allInstitutions:y,allCountries:N}=(0,l.useMemo)(()=>{const e=new Set,t=new Set,l=new Set,n=new Set;return s.forEach(s=>{(s.labels||[]).forEach(t=>e.add(t)),(s.ion_species||[]).forEach(e=>t.add(e)),s.current_position?.institution&&l.add(s.current_position.institution),s.location?.country&&n.add(s.location.country)}),{allLabels:Array.from(e).sort(),allIons:Array.from(t).sort(),allInstitutions:Array.from(l).sort(),allCountries:Array.from(n).sort()}},[s]);(0,l.useEffect)(()=>(document.body.style.overflow="auto",()=>{document.body.style.overflow=""}),[]),(0,l.useEffect)(()=>{fetch("/ionlandscape/data/people.json").then(e=>e.json()).then(o).catch(()=>{fetch("/data/people.json").then(e=>e.json()).then(o)})},[]);const C=(0,l.useMemo)(()=>s.length?s.filter(e=>{if("All"!==g){const t=(e.platforms||[]).some(e=>e.toLowerCase().includes("neutral"));if("Neutral Atoms"===g){if(!t)return!1}else if("Trapped Ions"===g&&t)return!1}if(d){const t=d.toLowerCase();if(!(e.name?.toLowerCase().includes(t)||e.sort_name?.toLowerCase().includes(t)))return!1}if(u.length>0){if(!u.every(t=>e.labels&&e.labels.includes(t)))return!1}if(h.length>0){if(!h.every(t=>e.ion_species&&e.ion_species.includes(t)))return!1}if(p.length>0){if(!p.every(t=>e.current_position?.institution===t))return!1}if(m.length>0){if(!m.every(t=>e.location?.country===t))return!1}return!0}):[],[s,d,u,h,p,m,g]),w=e=>{const s=new URLSearchParams;e.q&&s.set("q",e.q),(e.label||[]).forEach(e=>s.append("label",e)),(e.ion||[]).forEach(e=>s.append("ion",e)),(e.inst||[]).forEach(e=>s.append("inst",e)),(e.country||[]).forEach(e=>s.append("country",e)),t.push({search:s.toString()})},_=(e,t)=>{const s={q:f,label:u,ion:h,inst:p,country:m};if("inst"===e||"country"===e)s[e]=[t];else{if(s[e].includes(t))return;s[e]=[...s[e],t]}w(s)},A=(e,t)=>{const s={q:f,label:u,ion:h,inst:p,country:m};s[e]=s[e].filter(e=>e!==t),w(s)},k=d||u.length>0||h.length>0||p.length>0||m.length>0,E=v.filter(e=>!u.includes(e)),S=b.filter(e=>!h.includes(e)),I=y.filter(e=>!p.includes(e)),L=N.filter(e=>!m.includes(e));return(0,i.jsx)(n.A,{title:"Groups",children:(0,i.jsxs)("div",{className:"groups-page container margin-vert--lg",children:[(0,i.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:(0,i.jsx)("h1",{children:"Research Groups"})}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:(0,i.jsx)("div",{className:"button-group",children:["All","Trapped Ions","Neutral Atoms"].map(e=>(0,i.jsx)("button",{className:"button button--"+(g===e?"primary":"outline-primary"),onClick:()=>j(e),style:{margin:"0 5px"},children:e},e))})}),(0,i.jsxs)("div",{className:"filter-bar",children:[(0,i.jsx)("div",{style:{marginBottom:"16px"},children:(0,i.jsx)("input",{id:"search-input",type:"text",className:"filter-select",style:{width:"100%",maxWidth:"400px",cursor:"text"},placeholder:"Search by name...",value:f,onChange:e=>x(e.target.value)})}),(0,i.jsxs)("div",{className:"filter-bar-row",children:[(0,i.jsxs)("select",{className:"filter-select",value:"",onChange:e=>e.target.value&&_("label",e.target.value),children:[(0,i.jsx)("option",{value:"",children:"+ Label"}),E.map(e=>(0,i.jsx)("option",{value:e,children:e},e))]}),(0,i.jsxs)("select",{className:"filter-select",value:"",onChange:e=>e.target.value&&_("ion",e.target.value),children:[(0,i.jsx)("option",{value:"",children:"+ Ion Species"}),S.map(e=>(0,i.jsx)("option",{value:e,children:e},e))]}),(0,i.jsxs)("select",{className:"filter-select",value:"",onChange:e=>e.target.value&&_("inst",e.target.value),children:[(0,i.jsx)("option",{value:"",children:"+ Institution"}),I.map(e=>(0,i.jsx)("option",{value:e,children:e},e))]}),(0,i.jsxs)("select",{className:"filter-select",value:"",onChange:e=>e.target.value&&_("country",e.target.value),children:[(0,i.jsx)("option",{value:"",children:"+ Country"}),L.map(e=>(0,i.jsx)("option",{value:e,children:e},e))]}),k&&(0,i.jsx)("button",{className:"clear-all-btn",onClick:()=>{x(""),t.push({search:""})},children:"Clear All"})]}),k&&(0,i.jsxs)("div",{className:"filter-chips",children:[u.map(e=>(0,i.jsxs)("span",{className:"filter-chip filter-chip--label",children:[e," ",(0,i.jsx)("button",{className:"filter-chip-remove",onClick:()=>A("label",e),children:"\xd7"})]},`label-${e}`)),h.map(e=>(0,i.jsxs)("span",{className:"filter-chip filter-chip--ion",children:[e," ",(0,i.jsx)("button",{className:"filter-chip-remove",onClick:()=>A("ion",e),children:"\xd7"})]},`ion-${e}`)),p.map(e=>(0,i.jsxs)("span",{className:"filter-chip",style:{background:"#e9ecef",color:"#333",border:"1px solid #ddd"},children:["\ud83c\udfdb\ufe0f ",e," ",(0,i.jsx)("button",{className:"filter-chip-remove",onClick:()=>A("inst",e),children:"\xd7"})]},`inst-${e}`)),m.map(e=>(0,i.jsxs)("span",{className:"filter-chip",style:{background:"#e9ecef",color:"#333",border:"1px solid #ddd"},children:["\ud83c\udf0d ",e," ",(0,i.jsx)("button",{className:"filter-chip-remove",onClick:()=>A("country",e),children:"\xd7"})]},`country-${e}`))]})]}),(0,i.jsxs)("p",{style:{color:"#666"},children:["Found ",C.length," researchers"]}),(0,i.jsxs)("div",{className:"row",children:[C.map(e=>(0,i.jsx)("div",{className:"col col--4 margin-bottom--lg",children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card__header",children:(0,i.jsx)("h3",{children:e.name})}),(0,i.jsxs)("div",{className:"card__body",children:[(0,i.jsx)("p",{children:e.current_position?.institution}),(0,i.jsx)("div",{style:{marginBottom:8},children:e.labels?.map(e=>(0,i.jsx)("span",{className:"badge badge--primary margin-right--xs",style:{cursor:"pointer"},onClick:()=>_("label",e),children:e},e))}),(0,i.jsx)("div",{children:e.ion_species?.map(e=>(0,i.jsx)("span",{className:"badge badge--secondary margin-right--xs",style:{cursor:"pointer"},onClick:()=>_("ion",e),children:e},e))})]}),(0,i.jsx)("div",{className:"card__footer",children:(0,i.jsx)(a.A,{to:`/?person=${e.id}`,className:"button button--primary button--block",children:"View on Map"})})]})},e.id)),0===C.length&&(0,i.jsx)("div",{className:"col col--12",children:(0,i.jsx)("div",{className:"alert alert--warning",children:(0,i.jsx)("p",{children:"No groups found matching criteria."})})})]})]})})}}}]);