"use strict";(globalThis.webpackChunkionlandscape_site=globalThis.webpackChunkionlandscape_site||[]).push([[634],{192(e,n,o){o.r(n),o.d(n,{default:()=>l});var t=o(6540),s=o(8478),i=o(4848);function r(){const[e,n]=(0,t.useState)(null),[s,r]=(0,t.useState)(null),l=o(8738).A,a=o(8287).A;return(0,i.jsxs)("div",{style:{display:"flex",height:"100vh"},children:[(0,i.jsx)("div",{style:{flex:1},children:(0,i.jsx)(l,{onPersonSelect:e=>n(e),onLocationSelect:e=>r(e)})}),(0,i.jsx)("div",{style:{width:420,borderLeft:"1px solid #ddd",overflow:"auto"},children:(0,i.jsx)(a,{personId:e,location:s,onPersonSelect:n})})]})}function l(){return(0,i.jsx)(s.A,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:()=>(0,i.jsx)(r,{})})}},8287(e,n,o){o.d(n,{A:()=>r});var t=o(6540),s=o(7331),i=o(4848);const r=function({personId:e,location:n,onPersonSelect:o}){const[r,l]=(0,t.useState)([]),[a,d]=(0,t.useState)(null),[c,h]=(0,t.useState)("");(0,t.useEffect)(()=>{fetch("/ionlandscape/data/people.json").then(e=>e.json()).then(l).catch(e=>{fetch("/data/people.json").then(e=>e.json()).then(l).catch(e=>console.warn("Could not load people.json",e))})},[]),(0,t.useEffect)(()=>{if(!e)return d(null),void h("");const n=r.find(n=>n.md_filename===e)||r.find(n=>n.id===e);n?(d(n),h(n.short_bio||"No biography available.")):d(null)},[e,r]);const p=e=>{if(!e)return null;const n=r.find(n=>n.name&&n.name.toLowerCase()===e.toLowerCase()||n.sort_name&&n.sort_name.toLowerCase()===e.toLowerCase()||n.id===e);return n&&o?(0,i.jsx)("span",{style:{color:"#007bff",cursor:"pointer",textDecoration:"underline"},onClick:()=>o(n.md_filename),children:e}):(0,i.jsx)("span",{children:e})};return n&&!a?(0,i.jsxs)("div",{style:{padding:16},children:[(0,i.jsxs)("h3",{children:[n.city,", ",n.country]}),(0,i.jsx)("p",{children:"People at this location (click a marker):"})]}):a?(0,i.jsxs)("div",{style:{padding:16},children:[(0,i.jsx)("h2",{children:a.name}),(0,i.jsx)("p",{children:(0,i.jsxs)("em",{children:[a.current_position&&a.current_position.title," \u2014 ",a.current_position&&a.current_position.institution]})}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Platforms:"})," ",(a.platforms||[]).join(", ")]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Keywords:"})," ",(a.keywords||[]).join(", ")]}),(0,i.jsxs)("div",{style:{marginBottom:12},children:[a.labels?.map(e=>(0,i.jsx)("a",{href:`/ionlandscape/groups?label=${encodeURIComponent(e)}`,className:"badge badge--primary margin-right--xs",style:{textDecoration:"none",color:"white"},children:e},e)),a.ion_species?.map(e=>(0,i.jsx)("a",{href:`/ionlandscape/groups?ion=${encodeURIComponent(e)}`,className:"badge badge--secondary margin-right--xs",style:{textDecoration:"none",color:"black"},children:e},e))]}),a.affiliations&&a.affiliations.length>0&&(0,i.jsxs)("div",{style:{marginTop:12,marginBottom:12,padding:"8px 12px",backgroundColor:"#f5f5f5",borderRadius:4},children:[(0,i.jsx)("h4",{style:{margin:"0 0 4px 0",fontSize:"1em",color:"#333"},children:"Affiliations"}),a.affiliations.map((e,n)=>(0,i.jsxs)("div",{style:{fontSize:"0.9em"},children:[(0,i.jsx)("strong",{children:e.name})," \u2014 ",e.role]},n))]}),(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"person-bio",children:(0,i.jsx)(s.oz,{children:c})}),(a.education?.length>0||a.postdocs?.length>0)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{}),(0,i.jsx)("h3",{children:"Academic Trajectory"}),a.education&&a.education.length>0&&(0,i.jsxs)("div",{style:{marginBottom:16},children:[(0,i.jsx)("h4",{style:{marginBottom:8,fontSize:"1.1em",color:"#555"},children:"Education"}),a.education.map((e,n)=>(0,i.jsxs)("div",{style:{marginBottom:12,paddingLeft:8,borderLeft:"2px solid #eee"},children:[(0,i.jsxs)("div",{style:{fontWeight:600},children:[e.degree," \u2014 ",e.institution]}),(0,i.jsxs)("div",{style:{fontSize:"0.9em",color:"#666"},children:[e.year&&(0,i.jsxs)("span",{children:["(",e.year,") "]}),e.advisor&&(0,i.jsxs)(i.Fragment,{children:["Advisor: ",p(e.advisor)]})]})]},n))]}),a.postdocs&&a.postdocs.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{style:{marginBottom:8,fontSize:"1.1em",color:"#555"},children:"Postdoctoral Training"}),a.postdocs.map((e,n)=>(0,i.jsxs)("div",{style:{marginBottom:12,paddingLeft:8,borderLeft:"2px solid #eee"},children:[(0,i.jsx)("div",{style:{fontWeight:600},children:e.institution}),(0,i.jsx)("div",{style:{fontSize:"0.9em",color:"#666"},children:e.advisor&&(0,i.jsxs)(i.Fragment,{children:["Advisor: ",p(e.advisor)]})})]},n))]})]}),(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"Links"})}),(0,i.jsxs)("ul",{style:{paddingLeft:20},children:[a.links&&a.links.homepage?(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:a.links.homepage,target:"_blank",rel:"noopener noreferrer",children:"Homepage"})}):null,a.links&&a.links.google_scholar?(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:a.links.google_scholar,target:"_blank",rel:"noopener noreferrer",children:"Google Scholar"})}):null,a.links&&a.links.orcid?(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:a.links.orcid,target:"_blank",rel:"noopener noreferrer",children:"ORCID"})}):null]})]}):(0,i.jsxs)("div",{style:{padding:16},children:[(0,i.jsx)("h3",{children:"Ion Landscape"}),(0,i.jsx)("p",{children:"Click a marker on the map to view a person profile."})]})}},8738(e,n,o){o.d(n,{A:()=>p});var t=o(6540),s=o(6162),i=o(4489),r=o(3489),l=o(9368),a=o(3481),d=o.n(a),c=o(4848);const h=[20,0];const p=function({onPersonSelect:e,onLocationSelect:n}){const[o,a]=t.useState([]);(0,t.useEffect)(()=>{fetch("/ionlandscape/data/people.geojson").then(e=>e.json()).then(e=>{e&&e.features&&a(e.features)}).catch(e=>{fetch("/data/people.geojson").then(e=>e.json()).then(e=>a(e.features)).catch(e=>console.warn("Could not load people.geojson",e))})},[]),(0,t.useEffect)(()=>{delete d().Icon.Default.prototype._getIconUrl,d().Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},[]);const p=(0,t.useMemo)(()=>function(e){const n=new Map;for(const o of e){const e=o.geometry;if(!e||!e.coordinates)continue;const[t,s]=e.coordinates,i=`${s.toFixed(5)},${t.toFixed(5)}`;n.has(i)||n.set(i,[]),n.get(i).push(o)}for(const[o,t]of n)t.sort((e,n)=>{const o=e.properties?.id||"",t=n.properties?.id||"";return o.localeCompare(t)});return n}(o),[o]);return(0,c.jsxs)(s.W,{center:h,zoom:2,style:{height:"100%",width:"100%"},children:[(0,c.jsx)(l.e,{attribution:"\xa9 OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Array.from(p.entries()).map(([n,o])=>{const t=o[0],[s,l]=t.geometry.coordinates,a=t.properties||{},d=a.city&&a.country?`${a.city}, ${a.country}`:null;return(0,c.jsx)(i.p,{position:[l,s],children:(0,c.jsx)(r.z,{children:(0,c.jsxs)("div",{style:{minWidth:"200px"},children:[d&&(0,c.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px",borderBottom:"1px solid #ccc",paddingBottom:"4px"},children:d}),(0,c.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:o.map((n,t)=>{const s=n.properties||{};return(0,c.jsxs)("div",{style:{padding:"6px 0",borderBottom:t<o.length-1?"1px solid #eee":"none"},children:[(0,c.jsx)("div",{style:{fontWeight:"bold"},children:s.name}),(0,c.jsx)("div",{style:{fontSize:"0.85em",color:"#666",marginBottom:"4px"},children:s.current_position||s.short_bio?.substring(0,60)+"..."||0}),(0,c.jsx)("button",{onClick:()=>e(s.md_filename),style:{fontSize:"0.8em",padding:"2px 8px",cursor:"pointer"},children:"Open profile"})]},s.md_filename||t)})})]})})},n)})]})}}}]);