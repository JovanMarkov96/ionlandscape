"use strict";(globalThis.webpackChunkionlandscape_site=globalThis.webpackChunkionlandscape_site||[]).push([[634],{192(e,n,o){o.r(n),o.d(n,{default:()=>l});var s=o(6540),t=o(8478),i=o(4848);function r(){const[e,n]=(0,s.useState)(null),[t,r]=(0,s.useState)(null),[l,a]=(0,s.useState)(!1),c=o(8738).A,d=o(8287).A;(0,s.useEffect)(()=>{e&&a(!0)},[e]);const p=e=>{n(e),a(!0)};return(0,i.jsxs)("div",{className:"ion-landscape-container",children:[(0,i.jsx)("div",{className:"ion-landscape-map",children:(0,i.jsx)(c,{onPersonSelect:p,onLocationSelect:e=>r(e)})}),(0,i.jsxs)("div",{className:"ion-landscape-panel "+(l?"panel-open":""),children:[(0,i.jsx)("button",{className:"back-to-map-btn",onClick:()=>{a(!1)},children:"\u2190 Back to Map"}),(0,i.jsx)(d,{personId:e,location:t,onPersonSelect:p,onClose:()=>{n(null),r(null)}})]}),(0,i.jsx)("button",{className:"mobile-panel-toggle",onClick:()=>a(!l),"aria-label":l?"Close panel":"Open panel",children:l?"\u2715":"\u2630"})]})}function l(){return(0,i.jsx)(t.A,{fallback:(0,i.jsx)("div",{style:{padding:20},children:"Loading map..."}),children:()=>(0,i.jsx)(r,{})})}},8287(e,n,o){o.d(n,{A:()=>r});var s=o(6540),t=o(7331),i=o(4848);const r=function({personId:e,location:n,onPersonSelect:o,onClose:r}){const[l,a]=(0,s.useState)([]),[c,d]=(0,s.useState)(null),[p,h]=(0,s.useState)("");(0,s.useEffect)(()=>{fetch("/ionlandscape/data/people.json").then(e=>e.json()).then(a).catch(e=>{fetch("/data/people.json").then(e=>e.json()).then(a).catch(e=>console.warn("Could not load people.json",e))})},[]),(0,s.useEffect)(()=>{if(!e)return d(null),void h("");const n=l.find(n=>n.md_filename===e)||l.find(n=>n.id===e);n?(d(n),h(n.short_bio||"No biography available.")):d(null)},[e,l]);const m=e=>{if(!e)return null;const n=l.find(n=>n.name&&n.name.toLowerCase()===e.toLowerCase()||n.sort_name&&n.sort_name.toLowerCase()===e.toLowerCase()||n.id===e);return n&&o?(0,i.jsx)("span",{style:{color:"#007bff",cursor:"pointer",textDecoration:"underline"},onClick:()=>o(n.md_filename),children:e}):(0,i.jsx)("span",{children:e})};return n&&!c?(0,i.jsxs)("div",{style:{padding:16},children:[(0,i.jsxs)("h3",{children:[n.city,", ",n.country]}),(0,i.jsx)("p",{children:"People at this location (click a marker):"})]}):c?(0,i.jsxs)("div",{style:{padding:16,position:"relative"},children:[r&&(0,i.jsx)("button",{className:"close-panel-btn",onClick:r,"aria-label":"Close profile",children:"\u2715"}),(0,i.jsx)("div",{className:"person-panel-header",children:(0,i.jsxs)("h2",{children:[c.name," ",(0,i.jsx)("span",{style:{fontSize:"0.6em",color:"#ccc"},children:"(v1.1)"})]})}),(0,i.jsx)("p",{children:(0,i.jsxs)("em",{children:[c.current_position&&c.current_position.title," \u2014 ",c.current_position&&c.current_position.institution]})}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Platforms:"})," ",(c.platforms||[]).join(", ")]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Keywords:"})," ",(c.keywords||[]).join(", ")]}),(0,i.jsxs)("div",{style:{marginBottom:12},children:[c.labels?.map(e=>(0,i.jsx)("a",{href:`/ionlandscape/groups?label=${encodeURIComponent(e)}`,className:"badge badge--primary margin-right--xs",style:{textDecoration:"none",color:"white"},children:e},e)),c.ion_species?.map(e=>(0,i.jsx)("a",{href:`/ionlandscape/groups?ion=${encodeURIComponent(e)}`,className:"badge badge--secondary margin-right--xs",style:{textDecoration:"none",color:"black"},children:e},e))]}),c.affiliations&&c.affiliations.length>0&&(0,i.jsxs)("div",{style:{marginTop:12,marginBottom:12,padding:"8px 12px",backgroundColor:"#f5f5f5",borderRadius:4},children:[(0,i.jsx)("h4",{style:{margin:"0 0 4px 0",fontSize:"1em",color:"#333"},children:"Affiliations"}),c.affiliations.map((e,n)=>(0,i.jsxs)("div",{style:{fontSize:"0.9em"},children:[(0,i.jsx)("strong",{children:e.name})," \u2014 ",e.role]},n))]}),(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"person-bio",children:(0,i.jsx)(t.oz,{children:p})}),(c.education?.length>0||c.postdocs?.length>0)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{}),(0,i.jsx)("h3",{children:"Academic Trajectory"}),c.education&&c.education.length>0&&(0,i.jsxs)("div",{style:{marginBottom:16},children:[(0,i.jsx)("h4",{style:{marginBottom:8,fontSize:"1.1em",color:"#555"},children:"Education"}),c.education.map((e,n)=>(0,i.jsxs)("div",{style:{marginBottom:12,paddingLeft:8,borderLeft:"2px solid #eee"},children:[(0,i.jsxs)("div",{style:{fontWeight:600},children:[e.degree," \u2014 ",e.institution]}),(0,i.jsxs)("div",{style:{fontSize:"0.9em",color:"#666"},children:[e.year&&(0,i.jsxs)("span",{children:["(",e.year,") "]}),e.advisor&&(0,i.jsxs)(i.Fragment,{children:["Advisor: ",m(e.advisor)]})]})]},n))]}),c.postdocs&&c.postdocs.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{style:{marginBottom:8,fontSize:"1.1em",color:"#555"},children:"Postdoctoral Training"}),c.postdocs.map((e,n)=>(0,i.jsxs)("div",{style:{marginBottom:12,paddingLeft:8,borderLeft:"2px solid #eee"},children:[(0,i.jsx)("div",{style:{fontWeight:600},children:e.institution}),(0,i.jsx)("div",{style:{fontSize:"0.9em",color:"#666"},children:e.advisor&&(0,i.jsxs)(i.Fragment,{children:["Advisor: ",m(e.advisor)]})})]},n))]})]}),(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:"Links"})}),(0,i.jsxs)("ul",{style:{paddingLeft:20},children:[c.links&&c.links.homepage?(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:c.links.homepage,target:"_blank",rel:"noopener noreferrer",children:"Homepage"})}):null,c.links&&c.links.google_scholar?(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:c.links.google_scholar,target:"_blank",rel:"noopener noreferrer",children:"Google Scholar"})}):null,c.links&&c.links.orcid?(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:c.links.orcid,target:"_blank",rel:"noopener noreferrer",children:"ORCID"})}):null]})]}):(0,i.jsxs)("div",{style:{padding:16},children:[(0,i.jsx)("h3",{children:"Ion Landscape"}),(0,i.jsx)("p",{children:"Click a marker on the map to view a person profile."})]})}},8738(e,n,o){o.d(n,{A:()=>h});var s=o(6540),t=o(6162),i=o(4489),r=o(3489),l=o(9368),a=o(3481),c=o.n(a),d=o(4848);const p=[20,0];const h=function({onPersonSelect:e,onLocationSelect:n}){const[o,a]=s.useState([]);(0,s.useEffect)(()=>{fetch("/ionlandscape/data/people.geojson").then(e=>e.json()).then(e=>{e&&e.features&&a(e.features)}).catch(e=>{fetch("/data/people.geojson").then(e=>e.json()).then(e=>a(e.features)).catch(e=>console.warn("Could not load people.geojson",e))})},[]),(0,s.useEffect)(()=>{delete c().Icon.Default.prototype._getIconUrl,c().Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},[]);const h=(0,s.useMemo)(()=>function(e){const n=new Map;for(const o of e){const e=o.geometry;if(!e||!e.coordinates)continue;const[s,t]=e.coordinates,i=`${t.toFixed(5)},${s.toFixed(5)}`;n.has(i)||n.set(i,[]),n.get(i).push(o)}for(const[o,s]of n)s.sort((e,n)=>{const o=e.properties?.id||"",s=n.properties?.id||"";return o.localeCompare(s)});return n}(o),[o]);return(0,d.jsxs)(t.W,{center:p,zoom:2,style:{height:"100%",width:"100%"},children:[(0,d.jsx)(l.e,{attribution:"\xa9 OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Array.from(h.entries()).map(([n,o])=>{const s=o[0],[t,l]=s.geometry.coordinates,a=s.properties||{},c=a.city&&a.country?`${a.city}, ${a.country}`:null;return(0,d.jsx)(i.p,{position:[l,t],children:(0,d.jsx)(r.z,{children:(0,d.jsxs)("div",{style:{minWidth:"200px"},children:[c&&(0,d.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px",borderBottom:"1px solid #ccc",paddingBottom:"4px"},children:c}),(0,d.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:o.map((n,s)=>{const t=n.properties||{};return(0,d.jsxs)("div",{style:{padding:"6px 0",borderBottom:s<o.length-1?"1px solid #eee":"none"},children:[(0,d.jsx)("div",{style:{fontWeight:"bold"},children:t.name}),(0,d.jsx)("div",{style:{fontSize:"0.85em",color:"#666",marginBottom:"4px"},children:t.current_position||t.short_bio?.substring(0,60)+"..."||0}),(0,d.jsx)("button",{onClick:()=>e(t.md_filename),style:{fontSize:"0.8em",padding:"2px 8px",cursor:"pointer"},children:"Open profile"})]},t.md_filename||s)})})]})})},n)})]})}}}]);